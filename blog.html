<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blogs</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="blog.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico"/>
    <style>
    ::-webkit-scrollbar{
    width: 15px;
  }

  ::-webkit-scrollbar-track{
    background: #d1e5ff;
  }
  
  ::-webkit-scrollbar-thumb{
    background: linear-gradient( 90deg,rgb(63, 120, 244),rgb(245, 89, 239) );
    border-radius: 10px;
    height:  100px;
  }
    </style>
</head>

<body>
    <a href="./index.html" class="home-button">
        <i class="fas fa-home"></i> TourGuide
    </a>
    <video autoplay muted loop id="background-video">
        <source src="./flying_balloon.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    <div class="video-overlay"></div>
    <section class="hero">
        <div class="hero-content">
            <h1>Likego--Your best travel partner</h1>
            <p>Discover the most Amazing Travel Experiences.</p>
            <br>
            <br>
            <br>
            <br>
            <h2>Scroll down to see more</h2>
            <h1>↓</h1>
        </div>
    </section>

    <div class="content-wrapper">
        <main>
            <div class="filter-controls">
                <button id="reset-filters" class="reset-filters-btn">Reset Filters</button>
            </div>
            <section id="blog-posts">
                <!-- Blog posts will be dynamically inserted here -->
            </section>
            <aside>
                <div class="widget semi-transparent-box" id="categories-widget">
                    <h3>Popular Categories</h3>
                    <ul id="categories-list">
                        <!-- Categories will be dynamically inserted here -->
                    </ul>
                </div>
                
                <div class="widget semi-transparent-box">
                    <h3>Useful Links</h3>
                    <ul>
                        <li><a href="./plantrip.html">Plan Your Trip</a></li>
                        <li><a href="./index.html#hotel">Book Your Hotel</a></li>
                        <li><a href="./feedback.html">Rate Our Services</a></li>
                        <li><a href="./index.html#testimonials">Know from Our Past Customers</a></li>
                    </ul>
                </div>
                <div class="widget semi-transparent-box">
                    <h3>Related Posts</h3>
                    <!-- Related posts will be dynamically inserted here -->
                </div>
                <!-- <div class="widget semi-transparent-box">
                    <h3>Subscribe to Our Newsletter</h3>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Your email address" required>
                        <button type="submit">Subscribe</button>
                    </form>
                </div> -->
            </aside>
        </main>
    </div>

    <!-- 以下代码请放入前端html文件的body内 -->
<!--     <script src="https://agi-dev-platform-web.bj.bcebos.com/ai_apaas/embed/output/embedFullSDK.js?responseExpires=0"></script> 
    <script> 
        new EmbedWebSDK({appId: '04e787f8-3f9f-4dad-ac00-71de0d63b2f5', code: 'embedfXKunlkbXR5QrZcWFOEI', renderConfig: {width: '100%', height: '100%'}}); 
    </script> -->
    <script src="https://agi-dev-platform-web.bj.bcebos.com/ai_apaas/embed/output/embedLiteSDK.js?responseExpires=0"></script>
    <script>
    new EmbedLiteSDK({appId: 'd85d1ef1-90b8-4d7b-9670-c439a16ef4fd', code: 'embedqNZmOL2MIoASZv0L06Yw'});
    </script>

    <script>
        const blogPosts = [
            {
                title: "Island Hopping in Greece: A Mediterranean Odyssey",
                date: "July 12, 2024",
                author: "Nikos Papadopoulos",
                image: "./img/pexels-josh-hild-2422259.jpg",
                content: "Discover hidden beaches, indulge in mouthwatering cuisine, and immerse yourself in the rich tapestry of Greek culture.",
                tags: ["Greece", "Islands", "Mediterranean", "Culture"],
                likes: 342,
                comments: 56,
                link: "#"
            },
            {
                title: "Cherry Blossom Magic: Springtime in Japan",
                date: "July 14, 2024",
                author: "Yuki Tanaka",
                image: "./img/cherry_blossom.jpg",
                content: "Experience the ephemeral beauty of Japan's cherry blossom season. From the bustling streets of Tokyo to the serene gardens of Kyoto, witness the country transform into a pink wonderland. Partake in hanami picnics, visit ancient temples, and immerse yourself in the timeless traditions of Japan.",
                tags: ["Japan", "Cherry Blossoms", "Culture", "Spring"],
                likes: 365,
                comments: 58,
                link: "#"
            }
            // {
            //     title: "Winter Wonderland: A Ski Vacation in the Alps",
            //     date: "July 26, 2024",
            //     author: "Chloe Dubois",
            //     image: "./img/alps_skiing.jpg",
            //     content: "Escape the winter blues with a thrilling ski vacation in the Alps. Enjoy breathtaking mountain views, carve fresh powder, and cozy up by a fireplace in the evening.",
            //     tags: ["Alps", "Skiing", "Winter", "Adventure"],
            //     likes: 330,
            //     comments: 55,
            //     link: "#"
            // }
        ];

        function filterPostsByTag(tag) {
            const filteredPosts = blogPosts.filter(post => post.tags.includes(tag));
            displayPosts(filteredPosts);
        }

        function displayPosts(posts) {
            const blogSection = document.getElementById("blog-posts");
            blogSection.innerHTML = ''; // Clear existing posts
            posts.forEach(post => {
                const article = document.createElement("article");
                article.className = "blog-post semi-transparent-box";
                article.innerHTML = `
                    <img src="${post.image}" alt="${post.title}" class="blog-image">
                    <div class="blog-content">
                        <h2>${post.title}</h2>
                        <div class="post-meta">
                            <span class="author"><i class="fas fa-user"></i> ${post.author}</span>
                            <span class="date"><i class="far fa-calendar-alt"></i> ${post.date}</span>
                            <span class="likes"><i class="fas fa-heart"></i> ${post.likes}</span>
                            <span class="comments"><i class="fas fa-comment"></i> ${post.comments}</span>
                        </div>
                        <p>${post.content}</p>
                        <div class="tags">
                            ${post.tags.map(tag => `<span class="tag" onclick="filterPostsByTag('${tag}')">${tag}</span>`).join('')}
                        </div>
                        <a href="${post.link}" class="read-more">Read More <i class="fas fa-arrow-right"></i></a>
                    </div>
                `;
                blogSection.appendChild(article);
            });
        }

        function resetFilters() {
            displayPosts(blogPosts);
        }

        document.addEventListener("DOMContentLoaded", () => {
            // Display all posts initially
            displayPosts(blogPosts);

            // Add event listener for reset filters button
            document.getElementById('reset-filters').addEventListener('click', resetFilters);

            const relatedPosts = blogPosts.slice(1, 4);
            const relatedWidget = document.querySelector('.widget:nth-child(3)');
            relatedPosts.forEach(post => {
                const relatedPost = document.createElement('div');
                relatedPost.className = 'related-post';
                relatedPost.innerHTML = `
                    <img src="${post.image}" alt="${post.title}">
                    <div>
                        <h4>${post.title}</h4>
                        <p>${post.date}</p>
                    </div>
                `;
                relatedWidget.appendChild(relatedPost);
            });
        });

        function displayTopCategories() {
        const categoriesCount = {};

        blogPosts.forEach(post => {
            post.tags.forEach(tag => {
                if (categoriesCount[tag]) {
                    categoriesCount[tag]++;
                } else {
                    categoriesCount[tag] = 1;
                }
            });
        });

        const sortedCategories = Object.entries(categoriesCount)
            .sort((a, b) => b[1] - a[1])
            .slice(0, 5);

        const categoriesList = document.getElementById('categories-list');
        categoriesList.innerHTML = '';

        sortedCategories.forEach(([category, count]) => {
            const listItem = document.createElement('li');
            listItem.innerHTML = `<a href="#" onclick="filterPostsByTag('${category}')">${category} <span>(${count})</span></a>`;
            categoriesList.appendChild(listItem);
        });
    }

    // Display posts and top categories when the document is loaded
    displayPosts(blogPosts);
    displayTopCategories();

    // Add event listener for reset filters button
    document.getElementById('reset-filters').addEventListener('click', () => {
        displayPosts(blogPosts);
    });


        window.addEventListener('scroll', () => {
            const header = document.querySelector('.hero');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
    </script>
</body>

</html>
